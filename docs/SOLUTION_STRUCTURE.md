# μ†”λ£¨μ… κµ¬μ΅° λ…μ„Έμ„

μƒμ„±μΌ: 2025-01-27

μ΄ λ¬Έμ„λ” TRPG AI ν”„λ΅μ νΈμ ν„μ¬ μ†”λ£¨μ… κµ¬μ΅°μ™€ κ° ν΄λ”λ³„ μ©λ„λ¥Ό μ„¤λ…ν•©λ‹λ‹¤.

## π“ μ „μ²΄ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
.
β”β”€β”€ apps/                    # μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ  λ° μ‹¤ν–‰ μ½”λ“
β”β”€β”€ src/                     # λ„λ©”μΈ λ΅μ§ (Clean Architecture)
β”β”€β”€ adapters/                # μ™Έλ¶€ μ‹μ¤ν… μ–΄λ‘ν„°
β”β”€β”€ packages/                # κ³µμ  ν¨ν‚¤μ§€ λ° μ ν‹Έλ¦¬ν‹°
β”β”€β”€ scripts/                 # μ ν‹Έλ¦¬ν‹° μ¤ν¬λ¦½νΈ
β”β”€β”€ infra/                   # μΈν”„λΌμ¤νΈλ­μ² μ„¤μ •
β”β”€β”€ docker/                  # Docker κ΄€λ ¨ μ„¤μ • νμΌ
β”β”€β”€ docs/                    # ν”„λ΅μ νΈ λ¬Έμ„
β”β”€β”€ assets/                  # μ •μ  μμ‚° νμΌ (μ΄λ―Έμ§€ λ“±)
β”β”€β”€ data/                    # λ°μ΄ν„° νμΌ (DB, JSON λ“±)
β”β”€β”€ tests/                   # ν…μ¤νΈ μ½”λ“
β”β”€β”€ _volumes/                # Docker λ³Όλ¥¨ λ°μ΄ν„° (λ΅μ»¬ κ°λ°μ©)
β”β”€β”€ requirements.txt         # Python ν¨ν‚¤μ§€ μμ΅΄μ„±
β”β”€β”€ Dockerfile              # λ©”μΈ Dockerfile
β””β”€β”€ render.yaml             # Render λ°°ν¬ μ„¤μ •
```

---

## π“‚ μ£Όμ” λ””λ ‰ν† λ¦¬ μƒμ„Έ μ„¤λ…

### 1. `apps/` - μ• ν”λ¦¬μΌ€μ΄μ… λ μ΄μ–΄

μ• ν”λ¦¬μΌ€μ΄μ…μ μ§„μ…μ κ³Ό μ‹¤ν–‰ μ½”λ“λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.

#### `apps/api/` - FastAPI REST API μ„λ²„
- **μ©λ„**: λ°±μ—”λ“ API μ„λ²„μ λ¨λ“  μ½”λ“
- **μ£Όμ” κµ¬μ„±μ”μ†**:
  - `main.py`: FastAPI μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ , λ―Έλ“¤μ›¨μ–΄ μ„¤μ •
  - `config.py`: μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ • (ν™κ²½λ³€μ κ΄€λ¦¬)
  - `bootstrap.py`: μ΄κΈ°ν™” μ½”λ“ (ν™κ²½λ³€μ λ΅λ“ λ“±)
  - `startup.py`: μ„λ²„ μ‹μ‘ μ‹ μ‹¤ν–‰λλ” μ΄κΈ°ν™” λ΅μ§
  - `routes/`: API μ—”λ“ν¬μΈνΈ λΌμ°ν„°
    - `characters.py`: μΊλ¦­ν„° κ΄€λ ¨ API
    - `games.py`, `game_turn.py`: κ²μ„ κ΄€λ ¨ API
    - `worlds.py`: μ„Έκ³„κ΄€ κ΄€λ ¨ API
    - `chat.py`, `app_chat.py`: μ±„ν… κ΄€λ ¨ API
    - `ask.py`, `ask_chat.py`: RAG μ§λ¬Έμ‘λ‹µ API
    - `auth.py`, `auth_google.py`: μΈμ¦ κ΄€λ ¨ API
    - `user.py`: μ‚¬μ©μ κ΄€λ¦¬ API
    - `health.py`: ν—¬μ¤μ²΄ν¬ API
    - `assets.py`: μ •μ  μμ‚° μ„λΉ™ API
    - `debug.py`, `debug_db.py`: λ””λ²„κΉ…μ© API
  - `schemas/`: Pydantic μ¤ν‚¤λ§ μ •μ (μ”μ²­/μ‘λ‹µ λ¨λΈ)
  - `services/`: λΉ„μ¦λ‹μ¤ λ΅μ§ μ„λΉ„μ¤
    - `game_session.py`: κ²μ„ μ„Έμ… κ΄€λ¦¬
    - `game_events.py`: κ²μ„ μ΄λ²¤νΈ μ²λ¦¬
    - `game_status_service.py`: κ²μ„ μƒνƒ κ΄€λ¦¬
  - `models/`: λ°μ΄ν„°λ² μ΄μ¤ λ¨λΈ
  - `repositories/`: λ°μ΄ν„° μ ‘κ·Ό κ³„μΈµ (μμ •)
  - `dependencies/`: FastAPI μμ΅΄μ„± ν•¨μ (μΈμ¦ λ“±)
  - `deps/`: μ¶”κ°€ μμ΅΄μ„± ν•¨μ
  - `utils/`: μ ν‹Έλ¦¬ν‹° ν•¨μ
  - `core/`: ν•µμ‹¬ κΈ°λ¥ (ν† ν° λ“±)

#### `apps/web-html/` - ν”„λ΅ νΈμ—”λ“ HTML νμΌ
- **μ©λ„**: μ •μ  HTML ν”„λ΅ νΈμ—”λ“ (Cloudflare Pages λ°°ν¬)
- **μ£Όμ” νμΌ**:
  - `index.html`: λ©”μΈ νμ΄μ§€
  - `home.html`: ν™ ν™”λ©΄
  - `chat.html`: μ±„ν… ν™”λ©΄
  - `game.html`: κ²μ„ ν™”λ©΄
  - `world.html`: μ„Έκ³„κ΄€ μƒμ„Έ ν™”λ©΄
  - `my.html`: λ§μ΄νμ΄μ§€
  - `personas.html`: νλ¥΄μ†λ‚ λ©λ΅
  - `search.html`: κ²€μƒ‰ ν™”λ©΄
  - `create/`: μƒμ„± κ΄€λ ¨ νμ΄μ§€λ“¤
    - `character.html`: μΊλ¦­ν„° μƒμ„±
    - `game.html`: κ²μ„ μƒμ„±
    - `world.html`: μ„Έκ³„κ΄€ μƒμ„±
  - `js/`: JavaScript νμΌ
    - `config.js`: μ„¤μ • νμΌ
    - `assets.js`: μμ‚° κ΄€λ¦¬
    - `game_turn.js`: κ²μ„ ν„΄ μ²λ¦¬
  - `static/js/`: μ¶”κ°€ μ •μ  JS νμΌ
    - `session.js`: μ„Έμ… κ΄€λ¦¬

#### `apps/core/` - κ³µν†µ μ½”μ–΄ μ ν‹Έλ¦¬ν‹°
- **μ©λ„**: μ—¬λ¬ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ κ³µμ ν•λ” μ ν‹Έλ¦¬ν‹°
- `utils/assets.py`: μμ‚° κ΄€λ ¨ μ ν‹Έλ¦¬ν‹°

#### `apps/diag/` - μ§„λ‹¨ λ„κµ¬
- **μ©λ„**: μ‹μ¤ν… μ§„λ‹¨ λ° λ””λ²„κΉ… λ„κµ¬
- `app.py`: μ§„λ‹¨ μ• ν”λ¦¬μΌ€μ΄μ…

#### `apps/llm/` - LLM κ΄€λ ¨
- **μ©λ„**: LLM ν”„λ΅¬ν”„νΈ λ° κ΄€λ ¨ μ½”λ“
- `prompts/`: ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ νμΌλ“¤

---

### 2. `src/` - λ„λ©”μΈ λ μ΄μ–΄ (Clean Architecture)

λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λ„λ©”μΈ λ¨λΈμ„ ν¬ν•¨ν•λ” ν•µμ‹¬ κ³„μΈµμ…λ‹λ‹¤.

#### `src/domain/` - λ„λ©”μΈ μ—”ν‹°ν‹°
- **μ©λ„**: λ„λ©”μΈ λ¨λΈ μ •μ (λΉ„μ¦λ‹μ¤ μ—”ν‹°ν‹°)
- `character.py`: Character λ„λ©”μΈ μ—”ν‹°ν‹°

#### `src/ports/` - ν¬νΈ (μΈν„°νμ΄μ¤)
- **μ©λ„**: μ™Έλ¶€ μ„Έκ³„μ™€μ μΈν„°νμ΄μ¤ μ •μ
- `repositories/`: λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤
  - `character_repository.py`: Character λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤
- `services/`: μ„λΉ„μ¤ μΈν„°νμ΄μ¤
  - `embedding_service.py`: μ„λ² λ”© μ„λΉ„μ¤ μΈν„°νμ΄μ¤

#### `src/usecases/` - μ μ¤μΌ€μ΄μ¤
- **μ©λ„**: λΉ„μ¦λ‹μ¤ μ μ¤μΌ€μ΄μ¤ κµ¬ν„
- `character/`: μΊλ¦­ν„° κ΄€λ ¨ μ μ¤μΌ€μ΄μ¤
  - `get_character.py`: μΊλ¦­ν„° μ΅°ν
  - `list_characters.py`: μΊλ¦­ν„° λ©λ΅ μ΅°ν
- `rag/`: RAG κ΄€λ ¨ μ μ¤μΌ€μ΄μ¤
  - `answer_question.py`: μ§λ¬Έ μ‘λ‹µ

---

### 3. `adapters/` - μ–΄λ‘ν„° λ μ΄μ–΄

μ™Έλ¶€ μ‹μ¤ν…κ³Όμ ν†µμ‹ μ„ λ‹΄λ‹Ήν•λ” κµ¬ν„μ²΄μ…λ‹λ‹¤.

#### `adapters/persistence/` - λ°μ΄ν„°λ² μ΄μ¤ μ–΄λ‘ν„°
- **μ©λ„**: λ‹¤μ–‘ν• λ°μ΄ν„°λ² μ΄μ¤ μ‹μ¤ν…κ³Όμ ν†µμ‹ 
- `factory.py`: λ¦¬ν¬μ§€ν† λ¦¬ ν©ν† λ¦¬
- `mongo/`: MongoDB μ–΄λ‘ν„°
  - `character_repository_adapter.py`: MongoDB Character λ¦¬ν¬μ§€ν† λ¦¬
  - `characters.py`: MongoDB Character λ¨λΈ
  - `factory.py`: MongoDB ν©ν† λ¦¬
  - `seq.py`: μ‹ν€€μ¤ κ΄€λ¦¬ (ID μƒμ„±)
- `sqlite/`: SQLite μ–΄λ‘ν„° (κ°λ°μ©)
  - `character_repository_adapter.py`: SQLite Character λ¦¬ν¬μ§€ν† λ¦¬
  - `character_repository.py`: SQLite λ¦¬ν¬μ§€ν† λ¦¬ κµ¬ν„

#### `adapters/external/` - μ™Έλ¶€ μ„λΉ„μ¤ μ–΄λ‘ν„°
- **μ©λ„**: μ™Έλ¶€ API λ° μ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈ
- `llm_client.py`: LLM ν΄λΌμ΄μ–ΈνΈ μ¶”μƒν™”
- `openai/`: OpenAI ν΄λΌμ΄μ–ΈνΈ
  - `openai_client.py`: OpenAI API ν΄λΌμ΄μ–ΈνΈ
- `embedding/`: μ„λ² λ”© μ„λΉ„μ¤ μ–΄λ‘ν„°
  - `sentence_transformer.py`: Sentence Transformer κµ¬ν„
  - `sentence_transformer_adapter.py`: Sentence Transformer μ–΄λ‘ν„°

#### `adapters/file_storage/` - νμΌ μ¤ν† λ¦¬μ§€ μ–΄λ‘ν„°
- **μ©λ„**: νμΌ μ €μ¥μ† μ—°λ™ (Cloudflare R2 λ“±)
- `r2_storage.py`: Cloudflare R2 μ¤ν† λ¦¬μ§€ ν΄λΌμ΄μ–ΈνΈ

---

### 4. `packages/` - κ³µμ  ν¨ν‚¤μ§€

μ—¬λ¬ λ¨λ“μ—μ„ κ³µμ ν•λ” ν¨ν‚¤μ§€μ…λ‹λ‹¤.

#### `packages/rag/` - RAG ν¨ν‚¤μ§€
- **μ©λ„**: RAG (Retrieval-Augmented Generation) κ΄€λ ¨ κΈ°λ¥
- `embedder.py`: λ¬Έμ„ μ„λ² λ”© μƒμ„±
- `ingest.py`: λ¬Έμ„ μμ§‘ λ° μ²λ¦¬

#### `packages/db/` - λ°μ΄ν„°λ² μ΄μ¤ μ ν‹Έλ¦¬ν‹°
- **μ©λ„**: λ°μ΄ν„°λ² μ΄μ¤ κ³µν†µ μ ν‹Έλ¦¬ν‹°

---

### 5. `scripts/` - μ ν‹Έλ¦¬ν‹° μ¤ν¬λ¦½νΈ

μ μ§€λ³΄μ λ° μ΄μμ„ μ„ν• μ¤ν¬λ¦½νΈλ“¤μ…λ‹λ‹¤.

- `import_characters_from_json.py`: JSONμ—μ„ μΊλ¦­ν„° λ°μ΄ν„° μ„ν¬νΈ
- `migrate_sqlite_to_mongo.py`: SQLiteμ—μ„ MongoDBλ΅ λ§μ΄κ·Έλ μ΄μ…
- `migrate_add_creator_to_characters.py`: μΊλ¦­ν„°μ— creator ν•„λ“ μ¶”κ°€ λ§μ΄κ·Έλ μ΄μ…
- `migrate_add_gender_to_characters.py`: μΊλ¦­ν„°μ— gender ν•„λ“ μ¶”κ°€ λ§μ΄κ·Έλ μ΄μ…
- `process_temp_images.py`: μ„μ‹ μ΄λ―Έμ§€ μ²λ¦¬
- `crawl_pinterest_download.py`: Pinterest ν¬λ΅¤λ§ λ° λ‹¤μ΄λ΅λ“
- `generate_daily_report.py`: μΌμΌ λ¦¬ν¬νΈ μƒμ„±
- `ensure_r2_env.sh`: R2 ν™κ²½λ³€μ ν™•μΈ
- `deploy_from_git.sh`: Gitμ—μ„ λ°°ν¬
- `prepare_oracle_vm_compose.sh`: Oracle VMμ© Docker Compose μ¤€λΉ„
- `sync_env_files.sh`: ν™κ²½λ³€μ νμΌ λ™κΈ°ν™”
- `patch_user_info_key_v2.sh`: user_info_v2 ν‚¤ ν¨μΉ
- `split_pinterest_from_api.sh`: Pinterest API λ¶„λ¦¬
- `data/ingest_documents.py`: λ¬Έμ„ μμ§‘ μ¤ν¬λ¦½νΈ

---

### 6. `infra/` - μΈν”„λΌμ¤νΈλ­μ² μ„¤μ •

μΈν”„λΌ μ„¤μ • λ° λ°°ν¬ κ΄€λ ¨ νμΌμ…λ‹λ‹¤.

- `docker-compose.yml`: Docker Compose μ„¤μ • (λ©”μΈ)
- `docker-entrypoint.sh`: Docker μ—”νΈλ¦¬ν¬μΈνΈ μ¤ν¬λ¦½νΈ
- `ollama-entrypoint.sh`: Ollama μ—”νΈλ¦¬ν¬μΈνΈ μ¤ν¬λ¦½νΈ
- `.env`: ν™κ²½λ³€μ νμΌ (λ΅μ»¬ κ°λ°μ©)

---

### 7. `docker/` - Docker μ„¤μ • νμΌ

Docker μ΄λ―Έμ§€ λΉλ“λ¥Ό μ„ν• μ„¤μ • νμΌμ…λ‹λ‹¤.

- `api.Dockerfile`: API μ„λ²„ Dockerfile
- `nginx.Dockerfile`: Nginx Dockerfile
- `nginx.conf`: Nginx μ„¤μ • νμΌ

---

### 8. `docs/` - ν”„λ΅μ νΈ λ¬Έμ„

ν”„λ΅μ νΈ κ΄€λ ¨ λ¨λ“  λ¬Έμ„λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.

- `README.md`: λ¬Έμ„ μΈλ±μ¤
- `QUICK_START.md`: λΉ λ¥Έ μ‹μ‘ κ°€μ΄λ“
- `architecture/`: μ•„ν‚¤ν…μ² λ¬Έμ„
  - `CURRENT_FILE_STRUCTURE.md`: ν„μ¬ νμΌ κµ¬μ΅°
  - `DIRECTORY_STRUCTURE.md`: λ””λ ‰ν† λ¦¬ κµ¬μ΅°
  - `REFACTORING_SUMMARY.md`: λ¦¬ν©ν† λ§ μ”μ•½
- `infra/`: μΈν”„λΌ λ¬Έμ„
  - `GOOGLE_LOGIN_SETUP.md`: Google λ΅κ·ΈμΈ μ„¤μ • κ°€μ΄λ“
- `logs/`: μΌμλ³„ μ‘μ—… λ΅κ·Έ
  - `YYYY-MM-DD.md`: λ‚ μ§λ³„ λ΅κ·Έ νμΌ
- `misc/`: κΈ°νƒ€ λ¬Έμ„
  - `UNUSED_FEATURES.md`: λ―Έμ‚¬μ© κΈ°λ¥ λ©λ΅

---

### 9. `assets/` - μ •μ  μμ‚° νμΌ

μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‚¬μ©ν•λ” μ •μ  νμΌμ…λ‹λ‹¤.

- `char/`: μΊλ¦­ν„° μ΄λ―Έμ§€ νμΌλ“¤
- `img/`: μΌλ° μ΄λ―Έμ§€ νμΌλ“¤
  - `placeholder.jpg`: ν”λ μ΄μ¤ν™€λ” μ΄λ―Έμ§€
- `persona/`: νλ¥΄μ†λ‚ μ΄λ―Έμ§€ νμΌλ“¤
  - `F01.png` ~ `F08.png`: μ—¬μ„± νλ¥΄μ†λ‚
  - `M01.png` ~ `M08.png`: λ‚¨μ„± νλ¥΄μ†λ‚
- `temp/`: μ„μ‹ νμΌ μ €μ¥μ†

---

### 10. `data/` - λ°μ΄ν„° νμΌ

μ• ν”λ¦¬μΌ€μ΄μ… λ°μ΄ν„° λ° μ„¤μ • νμΌμ…λ‹λ‹¤.

- `app.sqlite3`: SQLite λ°μ΄ν„°λ² μ΄μ¤ νμΌ (κ°λ°μ©)
- `db/app.sqlite3`: μ¶”κ°€ SQLite λ°μ΄ν„°λ² μ΄μ¤
- `json/`: JSON λ°μ΄ν„° νμΌ
  - `characters.json`: μΊλ¦­ν„° λ°μ΄ν„°
  - `home.json`: ν™ ν™”λ©΄ λ°μ΄ν„°
- `hello.txt`: ν…μ¤νΈ νμΌ

---

### 11. `tests/` - ν…μ¤νΈ μ½”λ“

ν…μ¤νΈ μ½”λ“λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.

- `test_cors.py`: CORS ν…μ¤νΈ

---

### 12. `_volumes/` - Docker λ³Όλ¥¨ λ°μ΄ν„°

λ΅μ»¬ κ°λ° ν™κ²½μ Docker λ³Όλ¥¨ λ°μ΄ν„°μ…λ‹λ‹¤.

- `qdrant/`: Qdrant λ²΅ν„° λ°μ΄ν„°λ² μ΄μ¤ λ°μ΄ν„°
- `qdrant_storage/`: Qdrant μ¤ν† λ¦¬μ§€ λ°μ΄ν„°
  - `collections/`: μ»¬λ ‰μ… λ°μ΄ν„°
  - `aliases/`: λ³„μΉ­ λ°μ΄ν„°
- `ollama_models/`: Ollama λ¨λΈ λ°μ΄ν„°
  - `models/blobs/`: λ¨λΈ λΈ”λ΅­ νμΌ
  - `id_ed25519`, `id_ed25519.pub`: SSH ν‚¤

---

## π”„ μ•„ν‚¤ν…μ² νλ¦„

### Clean Architecture κµ¬μ΅°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         apps/api/routes/            β”‚  β† API λΌμ°ν„° (μ§„μ…μ )
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚      src/usecases/                  β”‚  β† λΉ„μ¦λ‹μ¤ λ΅μ§
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚      src/ports/                     β”‚  β† μΈν„°νμ΄μ¤ μ •μ
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚      adapters/                      β”‚  β† κµ¬ν„μ²΄ (MongoDB, OpenAI, R2 λ“±)
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### λ°μ΄ν„° νλ¦„ μμ‹ (μΊλ¦­ν„° μ΅°ν)

1. **API λ μ΄μ–΄** (`apps/api/routes/characters.py`)
   - HTTP μ”μ²­ μμ‹ 
   - μ”μ²­ κ²€μ¦ (Pydantic μ¤ν‚¤λ§)

2. **μ μ¤μΌ€μ΄μ¤ λ μ΄μ–΄** (`src/usecases/character/get_character.py`)
   - λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰
   - λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤ νΈμ¶

3. **μ–΄λ‘ν„° λ μ΄μ–΄** (`adapters/persistence/mongo/character_repository_adapter.py`)
   - MongoDB μΏΌλ¦¬ μ‹¤ν–‰
   - λ°μ΄ν„° λ°ν™

4. **μ‘λ‹µ μƒμ„± λ° λ°ν™**
   - λ„λ©”μΈ μ—”ν‹°ν‹° β†’ μ¤ν‚¤λ§ λ³€ν™
   - HTTP μ‘λ‹µ λ°ν™

---

## π—‚οΈ μ£Όμ” κΈ°μ  μ¤νƒ

### λ°±μ—”λ“
- **ν”„λ μ„μ›ν¬**: FastAPI
- **λ°μ΄ν„°λ² μ΄μ¤**: MongoDB (ν”„λ΅λ•μ…), SQLite (κ°λ°)
- **μΈμ¦**: Google OAuth2 + JWT
- **νμΌ μ¤ν† λ¦¬μ§€**: Cloudflare R2

### ν”„λ΅ νΈμ—”λ“
- **κΈ°μ **: μ •μ  HTML + JavaScript (Vanilla JS)
- **λ°°ν¬**: Cloudflare Pages

### AI/ML
- **LLM**: OpenAI GPT-4o-mini
- **μ„λ² λ”©**: Sentence Transformers
- **λ²΅ν„° DB**: Qdrant

### μΈν”„λΌ
- **μ»¨ν…μ΄λ„**: Docker, Docker Compose
- **λ°°ν¬**: Render (API), Cloudflare Pages (ν”„λ΅ νΈμ—”λ“)
- **μ›Ήμ„λ²„**: Nginx (ν”„λ΅μ‹)

---

## π“ μ°Έκ³ μ‚¬ν•­

- μ΄ ν”„λ΅μ νΈλ” **Clean Architecture** μ›μΉ™μ„ λ”°λ¦…λ‹λ‹¤
- μμ΅΄μ„± λ°©ν–¥: `apps` β†’ `src` β†’ `adapters`
- λ„λ©”μΈ λ΅μ§μ€ `src/`μ—λ§ μ„μΉν•λ©°, μ™Έλ¶€ μμ΅΄μ„±μ΄ μ—†μµλ‹λ‹¤
- λ°μ΄ν„°λ² μ΄μ¤λ‚ μ™Έλ¶€ μ„λΉ„μ¤ λ³€κ²½ μ‹ `adapters/`λ§ μμ •ν•λ©΄ λ©λ‹λ‹¤
- μƒμ„Έν• λ³€κ²½ μ΄λ ¥μ€ `docs/logs/`λ¥Ό μ°Έκ³ ν•μ„Έμ”

